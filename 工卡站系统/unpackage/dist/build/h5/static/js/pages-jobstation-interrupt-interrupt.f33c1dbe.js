(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-jobstation-interrupt-interrupt"],{"15aa":function(t,i,e){var a=e("5ad2");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("3cc6c074",a,!0,{sourceMap:!1,shadowMode:!1})},"1ca3":function(t,i,e){"use strict";e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){return a}));var a={uniTable:e("cf31").default,uniTr:e("74dd").default,uniTh:e("99cf").default,uniTd:e("e279").default},n=function(){var t=this,i=t.$createElement,a=t._self._c||i;return 10==t.admin?a("v-uni-view",[a("v-uni-view",{staticStyle:{background:"linear-gradient(to right,#ffffff,#009dff)"}},[a("v-uni-view",{staticClass:"t1"},[a("v-uni-image",{staticClass:"logo",attrs:{src:e("0ab0")},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.shouye.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"t2p",staticStyle:{width:"300rpx"}},[a("v-uni-view",{staticClass:"o1",staticStyle:{width:"300rpx"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.change.apply(void 0,arguments)}}},[t._v(t._s(t.power)+":"+t._s(t.adminname))]),a("v-uni-view",{staticClass:"o2",staticStyle:{width:"300rpx"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.tuichu.apply(void 0,arguments)}}},[t._v("退出登录")])],1),a("v-uni-view",{staticClass:"t1p",staticStyle:{width:"1000rpx"}},[a("v-uni-button",{staticClass:"but",staticStyle:{width:"200rpx"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.show.apply(void 0,arguments)}}},[t._v("概览")]),a("v-uni-button",{staticClass:"but",staticStyle:{width:"200rpx"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.out.apply(void 0,arguments)}}},[t._v("领出")]),a("v-uni-button",{staticClass:"but",staticStyle:{width:"200rpx"},attrs:{type:"warn"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.interrupt.apply(void 0,arguments)}}},[t._v("中断")]),a("v-uni-button",{staticClass:"but",staticStyle:{width:"200rpx"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.end.apply(void 0,arguments)}}},[t._v("完工")]),a("v-uni-button",{staticClass:"but",staticStyle:{width:"200rpx"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.grade.apply(void 0,arguments)}}},[t._v("查询")])],1),a("v-uni-view",{staticClass:"t2",staticStyle:{width:"1400rpx"}},[a("v-uni-view",{staticClass:"t3",staticStyle:{width:"1400rpx"}},[a("v-uni-view",{staticClass:"p1",staticStyle:{width:"200rpx"}},[t._v("员工号")]),a("v-uni-view",{staticClass:"p2",staticStyle:{width:"200rpx"}},[t._v("姓名")]),a("v-uni-view",{staticClass:"p3",staticStyle:{width:"200rpx"}},[t._v("组别")]),a("v-uni-view",{staticClass:"p4",staticStyle:{width:"800rpx"}},[t._v("工单号/非例行号")])],1),a("v-uni-view",{staticClass:"t3",staticStyle:{width:"1400rpx"}},[a("v-uni-view",{staticClass:"p12",staticStyle:{width:"200rpx"}},[a("v-uni-input",{staticClass:"inputText",attrs:{focus:t.Focus1,value:t.word,placeholder:"请输入员工号"},on:{confirm:function(i){arguments[0]=i=t.$handleEvent(i),t.selectword.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"p32",staticStyle:{width:"200rpx"}},[t._v(t._s(t.userinfo.姓名))]),a("v-uni-view",{staticClass:"p32",staticStyle:{width:"200rpx"}},[t._v(t._s(t.userinfo.组别))]),a("v-uni-view",{staticClass:"p42",staticStyle:{width:"800rpx"}},[a("v-uni-input",{staticClass:"inputText",attrs:{focus:t.Focus2,value:t.value,placeholder:"请输入工单号/非例行号"},on:{confirm:function(i){arguments[0]=i=t.$handleEvent(i),t.selectjob.apply(void 0,arguments)}}})],1)],1)],1),a("v-uni-view",{staticStyle:{width:"300rpx"}},[a("v-uni-button",{staticClass:"but",staticStyle:{width:"300rpx",background:"linear-gradient(#ffff00,#ffff00)","font-weight":"700"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.next.apply(void 0,arguments)}}},[t._v("确定")])],1)],1),a("uni-table",[a("uni-tr",[a("uni-th",{staticStyle:{width:"80px","font-weight":"600","font-size":"20px"},attrs:{align:"center"}},[t._v("序号")]),a("uni-th",{staticStyle:{width:"150px","font-weight":"600","font-size":"20px"},attrs:{align:"center"}},[t._v("工单号")]),a("uni-th",{staticStyle:{width:"200px","font-weight":"600","font-size":"20px"},attrs:{align:"center"}},[t._v("工卡号")]),a("uni-th",{staticStyle:{width:"600px","font-weight":"600","font-size":"20px"},attrs:{align:"center"}},[t._v("工卡内容")]),a("uni-th",{staticStyle:{width:"100px","font-weight":"600","font-size":"20px"},attrs:{align:"center"}},[t._v("派组")]),a("uni-th",{staticStyle:{width:"100px","font-weight":"600","font-size":"20px"},attrs:{align:"center"}},[t._v("负责人")]),a("uni-th",{staticStyle:{width:"100px","font-weight":"600","font-size":"20px"},attrs:{align:"center"}},[t._v("工时")]),a("uni-th",{staticStyle:{width:"100px","font-weight":"600","font-size":"20px"},attrs:{align:"center"}},[t._v("领出时间")]),a("uni-th",{staticStyle:{width:"100px","font-weight":"600","font-size":"20px"},attrs:{align:"center"}},[t._v("中断时间")]),a("uni-th",{staticStyle:{width:"100px","font-weight":"600","font-size":"20px"},attrs:{align:"center"}},[t._v("完工时间")]),a("uni-th",{staticStyle:{width:"100px","font-weight":"600","font-size":"20px"},attrs:{align:"center"}},[t._v("状态")])],1),t._l(t.jobinfo.data,(function(i,e){return a("uni-tr",[a("uni-td",{attrs:{align:"center"}},[t._v(t._s(i.顺序号))]),a("uni-td",[t._v(t._s(i.工单号))]),a("uni-td",[t._v(t._s(i.工卡号))]),a("uni-td",[t._v(t._s(i.工单描述))]),a("uni-td",{attrs:{align:"center"}},[t._v(t._s(i.组别))]),a("uni-td",{attrs:{align:"center"}},[t._v(t._s(i.负责人))]),a("uni-td",{attrs:{align:"center"}},[t._v(t._s(i.工时))]),a("uni-td",{attrs:{align:"center"}},[t._v(t._s(i.领出时间))]),a("uni-td",{attrs:{align:"center"}},[t._v(t._s(i.中断时间))]),a("uni-td",{attrs:{align:"center"}},[t._v(t._s(i.完工时间))]),a("uni-td",{attrs:{align:"center"}},[t._v(t._s(i.状态))])],1)}))],2)],1)],1):t._e()},o=[]},"5ad2":function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,".topbar[data-v-299aaf34]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;height:30px}.fl[data-v-299aaf34]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;text-align:left;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.fr[data-v-299aaf34]{display:-webkit-box;display:-webkit-flex;display:flex;height:30px;width:auto}.fp[data-v-299aaf34]{height:30px;width:30px}.fj[data-v-299aaf34]{height:20px;width:20px}.top[data-v-299aaf34]{display:-webkit-box;display:-webkit-flex;display:flex}.t1p[data-v-299aaf34]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;width:530.72px;margin-right:10px}.t2p[data-v-299aaf34]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;margin-right:10px;-webkit-box-align:center;-webkit-align-items:center;align-items:center;text-align:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.o1[data-v-299aaf34]{font-size:18px;font-weight:600}.o2[data-v-299aaf34]{font-size:16px;color:#007aff}.but[data-v-299aaf34]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;text-align:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:25%;font-size:%?50?%;margin-left:5px;-moz-box-shadow:inset 0 0 20px #ccc;-webkit-box-shadow:inset 0 0 20px #ccc;box-shadow:inset 0 0 20px #ccc;font-weight:700}.t1[data-v-299aaf34]{display:-webkit-box;display:-webkit-flex;display:flex;height:auto;width:100%}.t2[data-v-299aaf34]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;width:800px;margin-left:10px}.t3[data-v-299aaf34]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:left;-webkit-justify-content:left;justify-content:left;width:700px}.logo[data-v-299aaf34]{width:%?550?%;height:auto}.p12[data-v-299aaf34]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:100px;text-align:left;background-color:#fff;line-height:20px;border-style:solid;border-width:3px;border-bottom:2dp;border-color:#ffcb46;-moz-box-shadow:inset 0 0 20px #ccc;-webkit-box-shadow:inset 0 0 20px #ccc;box-shadow:inset 0 0 20px #ccc;font-size:16px}.p22[data-v-299aaf34]{width:100px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;text-align:center;font-size:20px;height:30px}.p32[data-v-299aaf34]{width:100px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;text-align:center;font-size:20px;height:30px}.p42[data-v-299aaf34]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:420px;text-align:left;background-color:#fff;line-height:20px;border-style:solid;border-width:3px;border-bottom:2dp;border-color:#ffcb46;-moz-box-shadow:inset 0 0 20px #ccc;-webkit-box-shadow:inset 0 0 20px #ccc;box-shadow:inset 0 0 20px #ccc;font-size:16px}.p1[data-v-299aaf34]{width:120px;text-align:center;font-size:20px;font-weight:600}.p2[data-v-299aaf34]{width:100px;text-align:center;font-size:20px;font-weight:600;margin-left:5px}.p3[data-v-299aaf34]{width:100px;text-align:center;font-size:20px;font-weight:600}.p4[data-v-299aaf34]{width:500px;text-align:center;font-size:20px;font-weight:600}.inputText[data-v-299aaf34]{width:500px;height:30px;font-size:16px}.popup_overlay[data-v-299aaf34]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000;z-index:1001;-moz-opacity:.8;opacity:.8;filter:alpha(opacity=88)}.popup_content[data-v-299aaf34]{position:fixed;top:50%;left:50%;width:%?520?%;height:%?250?%;margin-left:%?-270?%;margin-top:%?-270?%;border:10px solid #fff;background-color:#fff;z-index:1002;overflow:auto}.popup_title[data-v-299aaf34]{width:%?480?%;text-align:center;font-size:%?32?%}.popup_textarea_item[data-v-299aaf34]{padding-top:%?5?%;height:%?80?%;width:%?440?%;background-color:#f1f1f1;margin-top:%?20?%;margin-left:%?20?%;padding-top:%?25?%}.popup_textarea[data-v-299aaf34]{width:%?410?%;font-size:%?26?%;margin-left:%?20?%}.popup_button[data-v-299aaf34]{color:#000}.buttons[data-v-299aaf34]{text-align:center;font-size:%?32?%;margin-top:%?40?%}",""]),t.exports=i},a1c3:function(t,i,e){"use strict";var a=e("15aa"),n=e.n(a);n.a},c1f1:function(t,i,e){"use strict";e.r(i);var a=e("d983"),n=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(i,t,(function(){return a[t]}))}(o);i["default"]=n.a},d58e:function(t,i,e){"use strict";e.r(i);var a=e("1ca3"),n=e("c1f1");for(var o in n)"default"!==o&&function(t){e.d(i,t,(function(){return n[t]}))}(o);e("a1c3");var s,c=e("f0c5"),l=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"299aaf34",null,!1,a["a"],s);i["default"]=l.exports},d983:function(t,i,e){"use strict";(function(t){var a=e("4ea4");e("e25e"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=a(e("ade3")),o={data:function(){return(0,n.default)({userinfo:{},jobinfo:"",value:"",word:"",admin:"",power:"",Focus1:!0,Focus2:!1,loading:!1},"jobinfo",{data:[]})},created:function(){var t=this;this.loading=!0,setTimeout((function(){t.loading=!1}),200)},methods:{onLoad:function(){this.admin=uni.getStorageSync("admin"),10==this.admin&&(this.power="管理员"),1==this.admin&&(this.power="用户"),this.adminname=uni.getStorageSync("HCname"),10!=this.admin&&uni.showModal({title:"提示",content:"你没有权限进入此页面",success:function(t){t.confirm&&uni.reLaunch({url:"../show/show"})}});var t=uni.getStorageSync("airplane"),i=uni.getStorageSync("date");this.date=i,this.airplane=t},tuichu:function(){uni.removeStorageSync("HCuname"),uni.removeStorageSync("HCpassw"),uni.removeStorageSync("airplane"),uni.removeStorageSync("date"),uni.removeStorageSync("HCname"),uni.removeStorageSync("admin"),uni.showToast({title:"已退出"}),uni.reLaunch({url:"/pages/login/login"})},shouye:function(){uni.reLaunch({url:"/pages/index/index"})},next:function(){this.jobinfo.data=[""],this.userinfo=[""],this.word=[],this.getFocus("Focus1")},getFocus:function(t){var i=this;this[t]=!1,this.$nextTick((function(){i[t]=!0}))},selectword:function(i){var e=this;this.getFocus("Focus2"),this.inputValue=i.target.value;var a=t.database();a.command;a.collection("user").where({"员工号":this.inputValue}).get().then((function(t){e.userinfo=t.result.data[0],e.jobinfo.data=[""],uni.showToast({icon:"loading",title:"正在查询",duration:1e3}),e.word=[],e.jobsearch()})).catch((function(t){e.userinfo=[""],e.jobinfo.data=[""]}))},selectjob:function(){var i=this,e=event.target.value.substring(0,3).toUpperCase();"%%0"==e&&(this.jobValue=event.target.value.substring(3,14)),"HGH"==e&&(this.jobValue=event.target.value.substring(3,16).toUpperCase()),this.job="";var a=new Date,n=a.getFullYear(),o=a.getMonth()+1,s=a.getDate(),c=a.getHours(),l=a.getMinutes(),r=a.getSeconds();o=parseInt(o)<10?"0"+o:o,s=parseInt(s)<10?"0"+s:s,c=parseInt(c)<10?"0"+c:c,l=parseInt(l)<10?"0"+l:l,r=parseInt(r)<10?"0"+r:r;var d=n+"-"+o+"-"+s+" "+c+":"+l+":"+r,u=this.userinfo.姓名,f=t.database();f.command;u&&this.jobValue?f.collection("gongka").where({"工单号":this.jobValue,"机号":this.airplane,"安排日期":this.date}).update({"中断时间":d,"状态":"中断","负责人":u}).then((function(t){t.result.updated>0&&(uni.showToast({title:"中段成功",duration:2e3}),i.value=[],i.jobinfo.data=[""],i.jobsearch()),0==t.result.updated&&(uni.showToast({title:"中断失败",duration:2e3}),i.value=[])})):(uni.showToast({title:"请输入信息",duration:2e3}),this.value=[])},jobsearch:function(){var i=this,e=this.userinfo.姓名,a=t.database(),n=a.command;a.collection("gongka").where({"负责人":e,"机号":this.airplane,"安排时间":this.date,"状态":n.eq("中断")}).get().then((function(t){for(var e=0,a=t.result.data.length;e<a;e++)i.jobinfo.data[e]=t.result.data[e];i.jobinfo.data&&i.$forceUpdate()})).catch((function(t){}))},change:function(){uni.reLaunch({url:"../change/change"})},show:function(){uni.reLaunch({url:"../show/show"})},out:function(){10==this.admin?uni.reLaunch({url:"../out/out"}):uni.showModal({title:"提示",content:"你没有权限进入此页面"})},interrupt:function(){10==this.admin?uni.reLaunch({url:"../interrupt/interrupt"}):uni.showModal({title:"提示",content:"你没有权限进入此页面"})},end:function(){10==this.admin?uni.reLaunch({url:"../end/end"}):uni.showModal({title:"提示",content:"你没有权限进入此页面"})},grade:function(){uni.reLaunch({url:"../grade/grade"})}}};i.default=o}).call(this,e("a9ff")["default"])}}]);